gx.evt.autoSkip=!1;gx.define("wcimpnotafiscalrevisao",!0,function(n){var t,i,e,f,r,u;this.ServerClass="wcimpnotafiscalrevisao";this.PackageName="GeneXus.Programs";this.ServerFullClass="wcimpnotafiscalrevisao";this.setObjectType("web");this.setCmpContext(n);this.ReadonlyForm=!0;this.hasEnterEvent=!0;this.skipOnEnter=!1;this.autoRefresh=!0;this.fullAjax=!0;this.supportAjaxEvents=!0;this.ajaxSecurityToken=!0;this.DSO="WorkWithPlusDS";this.SetStandaloneVars=function(){this.AV23Array_SdNotaFiscal=gx.fn.getControlValue("vARRAY_SDNOTAFISCAL");this.AV15Array_SdProdutosNotaFiscal=gx.fn.getControlValue("vARRAY_SDPRODUTOSNOTAFISCAL");this.AV11WizardData=gx.fn.getControlValue("vWIZARDDATA");this.AV18Taxa=gx.fn.getDecimalValue("vTAXA",".",",");this.AV28Array_SdParcelaCalculadaTaxa=gx.fn.getControlValue("vARRAY_SDPARCELACALCULADATAXA");this.AV10HasValidationErrors=gx.fn.getControlValue("vHASVALIDATIONERRORS");this.AV6WebSessionKey=gx.fn.getControlValue("vWEBSESSIONKEY");this.AV26EmptyWizardData=gx.fn.getControlValue("vEMPTYWIZARDDATA");this.AV8PreviousStep=gx.fn.getControlValue("vPREVIOUSSTEP");this.AV7GoingBack=gx.fn.getControlValue("vGOINGBACK")};this.e128r2_client=function(){return this.executeServerEvent("ENTER",!0,null,!1,!1)};this.e138r2_client=function(){return this.executeServerEvent("'WIZARDPREVIOUS'",!0,null,!1,!1)};this.e158r2_client=function(){return this.executeServerEvent("CANCEL",!0,null,!1,!1)};this.GXValidFnc=[];t=this.GXValidFnc;this.GXCtrlIds=[2,3,4,5,6,7,8,10,11,12,13,14,15,16,17,18,19,20,21,24,25,27,28,29,32,33,35,36,37,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,59,61,62,63,64,65];this.GXLastCtrlId=65;this.UCLISTAITENSContainer=gx.uc.getNew(this,30,0,"UcListaItensNotaFiscal",this.CmpContext+"UCLISTAITENSContainer","Uclistaitens","UCLISTAITENS");i=this.UCLISTAITENSContainer;i.setProp("Class","Class","","char");i.setProp("Enabled","Enabled",!0,"boolean");i.setDynProp("PercentualTaxaADM","Percentualtaxaadm","","str");i.setDynProp("TaxaADM","Taxaadm","","str");i.setDynProp("PercentualJuros","Percentualjuros","","str");i.setDynProp("Juros","Juros","","str");i.setDynProp("ValorFinal","Valorfinal","","str");i.setDynProp("Data","Data","","str");i.setProp("Visible","Visible",!0,"bool");i.setC2ShowFunction(function(n){n.show()});this.setUserControl(i);this.LISTAPARCELASContainer=gx.uc.getNew(this,38,0,"UcListaParcelasXTaxas",this.CmpContext+"LISTAPARCELASContainer","Listaparcelas","LISTAPARCELAS");e=this.LISTAPARCELASContainer;e.setProp("Class","Class","","char");e.setProp("Enabled","Enabled",!0,"boolean");e.setDynProp("Data","Data","","str");e.setProp("Visible","Visible",!0,"bool");e.setC2ShowFunction(function(n){n.show()});this.setUserControl(e);this.GXUITABSPANEL_TABS1Container=gx.uc.getNew(this,22,0,"gx.ui.controls.Tab",this.CmpContext+"GXUITABSPANEL_TABS1Container","Gxuitabspanel_tabs1","GXUITABSPANEL_TABS1");f=this.GXUITABSPANEL_TABS1Container;f.setProp("Enabled","Enabled",!0,"boolean");f.setProp("ActivePage","Activepage","","int");f.setProp("ActivePageControlName","Activepagecontrolname","","char");f.setProp("PageCount","Pagecount",2,"num");f.setProp("Class","Class","Tab","str");f.setProp("HistoryManagement","Historymanagement",!1,"bool");f.setProp("Visible","Visible",!0,"bool");f.setC2ShowFunction(function(n){n.show()});this.setUserControl(f);this.BTNWIZARDPREVIOUSContainer=gx.uc.getNew(this,58,0,"WWP_IconButton",this.CmpContext+"BTNWIZARDPREVIOUSContainer","Btnwizardprevious","BTNWIZARDPREVIOUS");r=this.BTNWIZARDPREVIOUSContainer;r.setProp("Enabled","Enabled",!0,"boolean");r.setProp("TooltipText","Tooltiptext","","str");r.setProp("BeforeIconClass","Beforeiconclass","fas fa-arrow-left","str");r.setProp("AfterIconClass","Aftericonclass","","str");r.addEventHandler("Event",this.e138r2_client);r.setProp("Caption","Caption","Anterior","str");r.setProp("Class","Class","BtnDefault ButtonWizard","str");r.setProp("Visible","Visible",!0,"bool");r.setC2ShowFunction(function(n){n.show()});this.setUserControl(r);this.BTNWIZARDNEXTContainer=gx.uc.getNew(this,60,0,"WWP_IconButton",this.CmpContext+"BTNWIZARDNEXTContainer","Btnwizardnext","BTNWIZARDNEXT");u=this.BTNWIZARDNEXTContainer;u.setProp("Enabled","Enabled",!0,"boolean");u.setProp("TooltipText","Tooltiptext","","str");u.setProp("BeforeIconClass","Beforeiconclass","","str");u.setProp("AfterIconClass","Aftericonclass","fas fa-arrow-right","str");u.addEventHandler("Event",this.e128r2_client);u.setProp("Caption","Caption","Confirmar e finalizar","str");u.setProp("Class","Class","Button ButtonWizard","str");u.setProp("Visible","Visible",!0,"bool");u.setC2ShowFunction(function(n){n.show()});this.setUserControl(u);t[2]={id:2,fld:"",grid:0};t[3]={id:3,fld:"LAYOUTMAINTABLE",grid:0};t[4]={id:4,fld:"",grid:0};t[5]={id:5,fld:"",grid:0};t[6]={id:6,fld:"TABLEMAIN",grid:0};t[7]={id:7,fld:"",grid:0};t[8]={id:8,fld:"",grid:0};t[10]={id:10,fld:"",grid:0};t[11]={id:11,fld:"",grid:0};t[12]={id:12,fld:"TABLECONTENT",grid:0};t[13]={id:13,fld:"",grid:0};t[14]={id:14,fld:"",grid:0};t[15]={id:15,fld:"TABLENOTASFLEX",grid:0};t[16]={id:16,fld:"",grid:0};t[17]={id:17,fld:"LABELUPLOADDATAXML",format:2,grid:0,ctrltype:"textblock"};t[18]={id:18,fld:"",grid:0};t[19]={id:19,fld:"LABELDESCRIPTIONUPLOADDATA",format:2,grid:0,ctrltype:"textblock"};t[20]={id:20,fld:"",grid:0};t[21]={id:21,fld:"",grid:0};t[24]={id:24,fld:"TABRESUMO_TITLE",format:0,grid:0,ctrltype:"textblock"};t[25]={id:25,fld:"",grid:0};t[27]={id:27,fld:"UNNAMEDTABLE2",grid:0};t[28]={id:28,fld:"",grid:0};t[29]={id:29,fld:"",grid:0};t[32]={id:32,fld:"TABPARCELAS_TITLE",format:0,grid:0,ctrltype:"textblock"};t[33]={id:33,fld:"",grid:0};t[35]={id:35,fld:"UNNAMEDTABLE1",grid:0};t[36]={id:36,fld:"",grid:0};t[37]={id:37,fld:"",grid:0};t[39]={id:39,fld:"",grid:0};t[40]={id:40,fld:"",grid:0};t[41]={id:41,fld:"TABLEINFOBOX",grid:0};t[42]={id:42,fld:"",grid:0};t[43]={id:43,fld:"",grid:0};t[44]={id:44,fld:"TABLEINFOBOXHEADER",grid:0};t[45]={id:45,fld:"",grid:0};t[46]={id:46,fld:"",grid:0};t[47]={id:47,fld:"INFOHEADERCONTENT",format:2,grid:0,ctrltype:"textblock"};t[48]={id:48,fld:"",grid:0};t[49]={id:49,fld:"",grid:0};t[50]={id:50,fld:"TABLEINFOBOXCONTENT",grid:0};t[51]={id:51,fld:"",grid:0};t[52]={id:52,fld:"",grid:0};t[53]={id:53,fld:"INFOCONTENTCONTENT",format:2,grid:0,ctrltype:"textblock"};t[54]={id:54,fld:"",grid:0};t[55]={id:55,fld:"",grid:0};t[56]={id:56,fld:"TABLEACTIONS",grid:0};t[57]={id:57,fld:"",grid:0};t[59]={id:59,fld:"",grid:0};t[61]={id:61,fld:"",grid:0};t[62]={id:62,fld:"",grid:0};t[63]={id:63,fld:"",grid:0};t[64]={id:64,fld:"",grid:0};t[65]={id:65,lvl:0,type:"int",len:9,dec:0,sign:!1,emptyAsNull:"Blank",pic:"ZZZZZZZZ9",ro:0,grid:0,gxgrid:null,fnc:null,isvalid:null,evt_cvc:null,evt_cvcing:null,rgrid:[],fld:"vPROPOSTAID",fmt:0,gxz:"ZV25PropostaId",gxold:"OV25PropostaId",gxvar:"AV25PropostaId",ucs:[],op:[],ip:[],nacdep:[],ctrltype:"edit",v2v:function(n){n!==undefined&&(gx.O.AV25PropostaId=gx.num.intval(n))},v2z:function(n){n!==undefined&&(gx.O.ZV25PropostaId=gx.num.intval(n))},v2c:function(){gx.fn.setControlValue("vPROPOSTAID",gx.O.AV25PropostaId,0)},c2v:function(){this.val()!==undefined&&(gx.O.AV25PropostaId=gx.num.intval(this.val()))},val:function(){return gx.fn.getIntegerValue("vPROPOSTAID",".")},nac:gx.falseFn};this.AV25PropostaId=0;this.AV6WebSessionKey="";this.AV8PreviousStep="";this.AV7GoingBack=!1;this.A865TaxasValorMinimo=0;this.A864TaxasPercentual=0;this.A894TaxasPercentualAnual=0;this.AV23Array_SdNotaFiscal=[];this.AV15Array_SdProdutosNotaFiscal=[];this.AV11WizardData={ImportarXML:{JSONSdNotaFiscal:"",JSONSdProdutosNota:"",JSONBase64Arquivos:"",ClienteId:0},ProdutosNota:{JSONSdProdutosNota:"",TotalSel:0},Revisao:{PropostaId:0},Confirmacao:{PropostaProtocolo:"",PropostaCreatedAt:gx.date.nullDate(),QuantidadeItens:0,PropostaValor:0,PropostaStatus:""},AuxiliarData:[]};this.AV18Taxa=0;this.AV28Array_SdParcelaCalculadaTaxa=[];this.AV10HasValidationErrors=!1;this.AV26EmptyWizardData={ImportarXML:{JSONSdNotaFiscal:"",JSONSdProdutosNota:"",JSONBase64Arquivos:"",ClienteId:0},ProdutosNota:{JSONSdProdutosNota:"",TotalSel:0},Revisao:{PropostaId:0},Confirmacao:{PropostaProtocolo:"",PropostaCreatedAt:gx.date.nullDate(),QuantidadeItens:0,PropostaValor:0,PropostaStatus:""},AuxiliarData:[]};this.Events={e128r2_client:["ENTER",!0],e138r2_client:["'WIZARDPREVIOUS'",!0],e158r2_client:["CANCEL",!0]};this.EvtParms.REFRESH=[[{av:"AV23Array_SdNotaFiscal",fld:"vARRAY_SDNOTAFISCAL",hsh:!0,type:""},{av:"AV15Array_SdProdutosNotaFiscal",fld:"vARRAY_SDPRODUTOSNOTAFISCAL",hsh:!0,type:""},{av:"AV18Taxa",fld:"vTAXA",pic:"Z,ZZZ,ZZZ,ZZZ,ZZ9.99%",hsh:!0,type:"decimal"},{av:"AV28Array_SdParcelaCalculadaTaxa",fld:"vARRAY_SDPARCELACALCULADATAXA",hsh:!0,type:""},{av:"AV10HasValidationErrors",fld:"vHASVALIDATIONERRORS",hsh:!0,type:"boolean"},{av:"AV26EmptyWizardData",fld:"vEMPTYWIZARDDATA",hsh:!0,type:""}],[]];this.EvtParms.ENTER=[[{av:"AV23Array_SdNotaFiscal",fld:"vARRAY_SDNOTAFISCAL",hsh:!0,type:""},{av:"AV15Array_SdProdutosNotaFiscal",fld:"vARRAY_SDPRODUTOSNOTAFISCAL",hsh:!0,type:""},{av:"AV11WizardData",fld:"vWIZARDDATA",type:""},{av:"AV18Taxa",fld:"vTAXA",pic:"Z,ZZZ,ZZZ,ZZZ,ZZ9.99%",hsh:!0,type:"decimal"},{av:"AV28Array_SdParcelaCalculadaTaxa",fld:"vARRAY_SDPARCELACALCULADATAXA",hsh:!0,type:""},{av:"AV10HasValidationErrors",fld:"vHASVALIDATIONERRORS",hsh:!0,type:"boolean"},{av:"AV6WebSessionKey",fld:"vWEBSESSIONKEY",type:"svchar"},{av:"AV25PropostaId",fld:"vPROPOSTAID",pic:"ZZZZZZZZ9",type:"int"},{av:"AV26EmptyWizardData",fld:"vEMPTYWIZARDDATA",hsh:!0,type:""}],[{av:"AV25PropostaId",fld:"vPROPOSTAID",pic:"ZZZZZZZZ9",type:"int"},{av:"AV11WizardData",fld:"vWIZARDDATA",type:""}]];this.EvtParms["'WIZARDPREVIOUS'"]=[[],[]];this.EnterCtrl=["BTNWIZARDNEXT"];this.setVCMap("AV23Array_SdNotaFiscal","vARRAY_SDNOTAFISCAL",0,"CollSdNotaFiscal",0,0);this.setVCMap("AV15Array_SdProdutosNotaFiscal","vARRAY_SDPRODUTOSNOTAFISCAL",0,"CollSdProdutoNotaFiscal",0,0);this.setVCMap("AV11WizardData","vWIZARDDATA",0,"WcImpNotaFiscalData",0,0);this.setVCMap("AV18Taxa","vTAXA",0,"decimal",16,4);this.setVCMap("AV28Array_SdParcelaCalculadaTaxa","vARRAY_SDPARCELACALCULADATAXA",0,"CollSdParcelaCalculadaTaxa",0,0);this.setVCMap("AV10HasValidationErrors","vHASVALIDATIONERRORS",0,"boolean",4,0);this.setVCMap("AV6WebSessionKey","vWEBSESSIONKEY",0,"svchar",40,0);this.setVCMap("AV26EmptyWizardData","vEMPTYWIZARDDATA",0,"WcImpNotaFiscalData",0,0);this.setVCMap("AV8PreviousStep","vPREVIOUSSTEP",0,"svchar",40,0);this.setVCMap("AV7GoingBack","vGOINGBACK",0,"boolean",4,0);this.Initialize();this.setSDTMapping("WcImpNotaFiscalData",{ImportarXML:{sdt:"WcImpNotaFiscalData.ImportarXML"},ProdutosNota:{sdt:"WcImpNotaFiscalData.ProdutosNota"},Revisao:{sdt:"WcImpNotaFiscalData.Revisao"},Confirmacao:{sdt:"WcImpNotaFiscalData.Confirmacao"}});this.setSDTMapping("SdNotaFiscal",{NFe:{sdt:"SdNotaFiscal.NFe"}});this.setSDTMapping("SdNotaFiscal.NFe.infNFe.detItem",{prod:{sdt:"SdNotaFiscal.NFe.infNFe.detItem.prod"},Item_0:{extr:"_nItem"}});this.setSDTMapping("SdNotaFiscal.NFe",{infNFe:{sdt:"SdNotaFiscal.NFe.infNFe"}});this.setSDTMapping("SdNotaFiscal.NFe.infNFe",{ide:{sdt:"SdNotaFiscal.NFe.infNFe.ide"},det:{sdt:"SdNotaFiscal.NFe.infNFe.detItem"}})})